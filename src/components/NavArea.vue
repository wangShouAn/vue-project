<script setup>
import { ref } from 'vue'

const logo =
  'https://my.tcb-life.com.tw/assets/%E5%90%88%E5%BA%AB%E4%BA%BA%E5%A3%BDLOGO-BPgS4Q-a.svg'

const navItems = ref([
  {
    open: false,
    name: 'ä¿æˆ¶æœå‹™',
    img: 'https://my.tcb-life.com.tw/api/assets/2a009399-4329-4913-98f4-e7e896c4c17f',
    item: [
      [
        { text: 'åˆ©ç‡çœ‹æ¿', type: 'link' },
        { text: 'åŒ¯ç‡è³‡è¨Š', type: 'link' },
        { text: 'é›»å­å–®æ“šæœå‹™', type: 'link' },
        { text: 'è¡Œå‹•èº«åˆ†è­˜åˆ¥èº«åˆ†èªè­‰æœå‹™', type: 'link' },
        { text: 'å¤–ä¾†äººå£ã€Œæ–°å¼çµ±ä¸€è­‰è™Ÿã€å°ˆå€', type: 'link' },
      ],
      [
        { text: 'è¡¨å–®ä¸‹è¼‰', type: 'link' },
        { text: 'ä¿æˆ¶å°ˆå€', type: 'link' },
        { text: 'å¸¸è¦‹å•é¡Œ', type: 'link' },
        { text: 'è¯çµ¡æˆ‘å€‘', type: 'link' },
        { text: 'å°Šäº«VIP', type: 'link' },
        { text: 'åˆä½œé‡‘åº«äººå£½APPå°ˆå€', type: 'link' },
      ],
      [
        {
          text: 'å¥‘ç´„è®Šæ›´ä½œæ¥­',
          type: 'title',
          item: [
            { text: 'å¥‘ç´„è®Šæ›´', type: 'link' },
            { text: 'ä¿å…¨è¯ç›Ÿéˆæœå‹™', type: 'link' },
          ],
        },
        { text: 'ä¿è¯å¼·åˆ¶åŸ·è¡Œå°ˆå€', type: 'link' },
      ],
    ],
  },
  { open: false, name: 'å®‰å¿ƒå®ˆè­·' },
  {
    open: false,
    name: 'æ‰€æœ‰å•†å“',
    img: 'https://my.tcb-life.com.tw/api/assets/18634038-b350-4491-b36b-ee18adbaea0b',
    item: [
      [
        { text: 'ç†±é–€å•†å“', type: 'link' },
        { text: 'æŠ•è³‡å‹ä¿éšª', type: 'link' },
        { text: 'å£½éšª', type: 'link' },
        { text: 'æ„å¤–å‚·å®³ä¿éšª', type: 'link' },
        { text: 'å¥åº·é†«ç™‚ä¿éšª', type: 'link' },
        { text: 'æˆ¿è²¸å‹ä¿éšª', type: 'link' },
      ],
      [
        { text: 'é™„åŠ èˆ‡æ‰¹è¨»æ¢æ¬¾', type: 'link' },
        { text: 'ç¶²è·¯æŠ•ä¿å•†å“', type: 'link' },
        { text: 'é›»è©±è¡ŒéŠ·å•†å“', type: 'link' },
        {
          text: 'éŠ€è¡ŒæŠ•ä¿å•†å“',
          type: 'title',
          item: [
            { text: 'å‚³é€å‹å•†å“', type: 'link' },
            { text: 'æŠ•è³‡å‹å•†å“', type: 'link' },
            { text: 'æˆ¿è²¸å‹å•†å“', type: 'link' },
          ],
        },
      ],
    ],
  },
  { open: false, name: 'å…¬å¹³å¾…å®¢' },
  { open: false, name: 'ä¿éšªçŸ¥è­˜åº«' },
  { open: false, name: 'é—œæ–¼æˆ‘å€‘' },
  { open: false, name: 'ğŸ¤”' },
])

function toggleMenu(index) {
  navItems.value[index].open = !navItems.value[index].open
}
</script>

<template>
  <nav>
    <img :src="logo" />
    <ul>
      <li v-for="(item, index) in navItems" :key="index">
        <button @click="toggleMenu(index)">{{ item.name }}</button>
        <menu v-if="item.open && item.item">
          <img v-if="item.img" :src="item.img" />

          <ul v-for="(subItems, subIndex) in item.item" :key="subIndex">
            <li v-for="(subItem, i) in subItems" :key="i">
              <a v-if="subItem.type === 'link'" :href="subItem.text">{{ subItem.text }}</a>
              <div v-else-if="subItem.type === 'title'">
                <p>{{ subItem.text }}</p>
                <div>
                  <template v-for="(subSubItem, si) in subItem.item" :key="si">
                    <a>{{ subSubItem.text }}</a>
                    <br />
                  </template>
                </div>
              </div>
            </li>
          </ul>
        </menu>
      </li>
    </ul>
  </nav>
</template>

<style lang="scss" scoped>
nav {
  width: 75%;
  display: flex;
  justify-content: space-around;
  align-items: center;
  height: 5vw;
  background-color: #fff;
  position: sticky;
  top: 2vw;
  left: 50%;
  z-index: 999;
  margin-top: 1vw;
  border-radius: 4vw;
  transform: translateX(-15%);
  img {
    width: 16vw;
  }
  ul {
    display: flex;
    li {
      list-style: none;
      button {
        overflow: hidden;
        text-align: center;
        white-space: nowrap;
        text-overflow: ellipsis;
        background-color: #fff;
        border: none;
        border-radius: 0.5vw;
        padding: 1vw;
        margin: 0 0.5vw;
        font-size: 1vw;
        cursor: pointer;
        &:hover {
          background-color: #008e6a;
          color: #fff;
        }
      }
      menu {
        overflow-x: scroll;
        display: flex;
        position: fixed;
        background-color: white;
        box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
        transform: translateX(-40%);
        border-radius: 2vw;
        padding: 2vw;
        img {
          width: 20vw;
          height: 15vw;
          border-radius: 2vw;
        }
        ul {
          display: flex;
          flex-direction: column;

          li {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin: 1vw 0;
            a {
              width: 15vw;
              color: #000;
              font-size: 1.5vw;
              text-decoration: none;
              &:hover {
                text-decoration: underline;
              }
            }
            div {
              margin: 0;
              padding: 0;
              display: flex;
              flex-direction: column;
              p {
                margin: 0;
                margin-bottom: 2vw;
                padding: 0;
                font-size: 1.5vw;
                color: #000;
              }
              a {
                margin-bottom: 2vw;
                color: #666;
              }
            }
          }
        }
      }
    }
  }
}
</style>
